import{API_URL,emailRegex}from"../settings.min.js";class ContactForm{constructor(){this.initContactForm()}initContactForm(){const t=this;t.contactForm=document.querySelector(".contact-form"),t.contactForm&&t.contactForm.addEventListener("submit",function(e){e.preventDefault(),t.isValid()&&t.sendEmail()})}isValid(){var e=document.querySelector("#inputTitle").value,t=document.querySelector("#inputEmail").value,o=document.querySelector("#inputTextArea").value;return""===e?(Swal.fire({icon:"error",title:"Oops...",text:"Proszę wpisać tytuł wiadomości"}),!1):""===t?(Swal.fire({icon:"error",title:"Oops...",text:"Proszę wpisać adres email"}),!1):emailRegex.test(t)?""!==o||(Swal.fire({icon:"error",title:"Oops...",text:"Proszę wpisać treść wiadomości"}),!1):(Swal.fire({icon:"error",title:"Oops...",text:"Proszę wpisać poprawny adres email"}),!1)}sendEmail(){var e={title:document.querySelector("#inputTitle").value,email:document.querySelector("#inputEmail").value,message:document.querySelector("#inputTextArea").value};fetch(API_URL+"/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>200===e.status?(document.querySelector("#inputTitle").value="",document.querySelector("#inputEmail").value="",document.querySelector("#inputTextArea").value="",Swal.fire({icon:"success",title:"Wysłano",text:"Wiadomość została wysłana"})):Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong"}))}}export default ContactForm;